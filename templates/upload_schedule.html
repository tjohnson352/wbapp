{% extends "base.html" %}

{% block title %}Upload Your Schedule{% endblock %}

{% block header %}
{% endblock %}

{% block content %}
<div class="dashboard-menu">
    <ul class="menu-list">
        <li><a href="/dashboard">Dashboard</a></li>
        <li><a href="/" class="active">Upload Schedule</a></li>
        <li><a href="/account">My Account</a></li>
        <li><a href="/logout" class="logout">Logout</a></li>
    </ul>
</div>

<div class="container-a">
    <h2>
        The Schedulizer <span>Schedule Upload</span>
    </h2>
    <ol class="instructions-list">
        <li>Log in to <strong><a href="https://sms.schoolsoft.se/engelska/jsp/Login.jsp?eventMessage=ERR_Not_Logged_In" target="_blank">SchoolSoft</a></strong>.</li>
        <li>Go to <strong>"My Schedule"</strong> in the left menu.</li>
        <li>
            Download your schedule by clicking
            <img src="/static/images/pdf.gif" alt="PDF Icon" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 5px;">,
            <span style="color: red; font-style: italic;">not</span>
            <img src="/static/images/printer.png" alt="Printer Icon" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 5px;">
        </li>
        <li>Click <strong>Choose File</strong> below to select your PDF file.</li>
        <li>Click <strong>Upload Schedule</strong> to proceed.</li>
    </ol>
    
    <form method="post" enctype="multipart/form-data" class="form-a">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <div class="container-b">
            <input 
                type="file" 
                name="schedule_pdf" 
                id="schedule_pdf" 
                accept="application/pdf" 
                class="file-input" 
                required 
                aria-label="Upload your schedule in PDF format">
        </div>

        <div class="container-b">
            <button type="submit" class="btn-primary upload-button">Upload Schedule</button>
        </div>
    </form>
</div>
{% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
    <div class="flash-messages">
      {% for category, message in messages %}
        <div class="alert alert-{{ category }}">
          <span class="icon">⚠️</span> <!-- Add an icon for clarity -->
          {{ message | safe }}
        </div>
      {% endfor %}
    </div>
  {% endif %}
{% endwith %}

{% endblock %}
