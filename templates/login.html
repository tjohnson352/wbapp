{% extends "base.html" %}

{% block title %}Login{% endblock %}

{% block header %}
{% endblock %}

{% block content %}
<div class="container-a">
    <h2>
        The Schedulizer <span>Login</span>
    </h2>   

    <form action="/login" method="POST" class="form-a">
        <!-- CSRF Token -->
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <div class="container-b">
            <label for="email">Email:</label>
            <input 
                type="email" 
                name="email" 
                id="email" 
                class="file-input" 
                placeholder="Enter your email address" 
                aria-label="Email Address"
                autocomplete="email"
                required>
        </div>

        <div class="container-b">
            <label for="password">Password:</label>
            <input 
                type="password" 
                name="password" 
                id="password" 
                class="file-input" 
                placeholder="Enter your password" 
                aria-label="Password"
                required>
            <div class="container-b">
                <input type="checkbox" id="show-password" onclick="togglePassword()">
                <label for="show-password">show</label>
            </div>
        </div>

        <script>
            function togglePassword() {
                const passwordField = document.getElementById("password");
                passwordField.type = passwordField.type === "password" ? "text" : "password";
            }
        </script>

        <div class="container-b">
            <button type="submit" class="btn-primary">Login</button>
        </div>
    </form>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
        <div class="alert alert-{{ category }}">{{ message }}</div>
        {% endfor %}
    {% endif %}
    {% endwith %}

    <div class="description">
        <p>
            Forgot password? 
            <a href="/reset-password" class="link">
                <i class="fas fa-key"></i> Reset!
            </a> 
            <span class="separator">â‹®</span>
            No account? 
            <a href="/register" class="link">
                <i class="fas fa-user-plus"></i> Register
            </a>
        </p>
    </div>
    
    
</div>
{% endblock %}
